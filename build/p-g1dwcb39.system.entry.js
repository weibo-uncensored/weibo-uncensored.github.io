var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<o;e++)for(var i=arguments[e],a=0,r=i.length;a<r;a++,s++)n[s]=i[a];return n};System.register(["./p-1fa942a3.system.js","./p-3f376874.system.js","./p-35047b4c.system.js","./p-9c9f2bdf.system.js","./p-65c980d9.system.js","./p-4e1706df.system.js","./p-b7e4181f.system.js","./p-a51f0ae4.system.js","./p-468ac7e0.system.js","./p-21339bcd.system.js"],(function(t){"use strict";var e,o,n,s;return{setters:[function(t){e=t.r;o=t.h},function(){},function(){},function(){},function(){},function(){},function(t){n=t.U},function(){},function(){},function(t){s=t.W}],execute:function(){var i=50;var a=t("weibo_viewer",function(){function t(t){e(this,t);this.offset=0;this.posts=[];this.hashtags=[];this.onlyShowCensored=false;this.hideViewMore=false;this.loading=false;this.currentSearchTxid=""}t.prototype.about=function(){n.showModal("About WeiBlocked","<about-us></about-us>")};t.prototype.addHashtags=function(){n.showModal("Add New Topics","<user-add-tags></user-add-tags>")};t.prototype.componentDidLoad=function(){var t=this;this.loading=true;s.hashtagIndex$.subscribe((function(e){if(e.length>0)t.loading=false;t.hashtags=__spreadArrays(t.hashtags.concat(e));console.log(JSON.stringify(e,null,2))}));s.getHashtagIndex(this.offset,i)};t.prototype.toggleCensoredFilter=function(){if(this.onlyShowCensored){this.onlyShowCensored=false;this.hashtags.length=0;this.offset=0;s.getHashtagIndex(this.offset,i)}else{this.onlyShowCensored=true;var t=s.censoredHashtags;this.hashtags=__spreadArrays(t)}};t.prototype.getNextPage=function(){this.offset+=i;s.getHashtagIndex(this.offset,i)};t.prototype.handleSearchEvent=function(t){console.log(JSON.stringify(t));var e=t.target.value.toLowerCase();if(e==""){this.offset=0;this.hideViewMore=false;this.hashtags=__spreadArrays(s.hashtagIndex.slice(this.offset,i));return}if(!e.startsWith("#"))e="#"+e;var o=s.hashtagIndex.filter((function(t){return t.hashtag.startsWith(e)})).slice(0,i);this.hideViewMore=true;this.hashtags=__spreadArrays(o)};t.prototype.showViewMore=function(){return this.hashtags.length>0&&!this.hideViewMore&&!this.onlyShowCensored?"":"viewMoreHidden"};t.prototype.render=function(){var t=this;return[o("ion-header",null,o("ion-toolbar",{color:"medium"},o("ion-title",null,this.onlyShowCensored?"BANNED":"All "," Hashtags"),o("ion-buttons",{slot:"end"},o("ion-button",{onClick:function(e){t.about();e.preventDefault()}},o("ion-icon",{slot:"icon-only",name:"information-circle"})),o("ion-button",{onClick:function(e){t.addHashtags();e.preventDefault()}},o("ion-icon",{slot:"icon-only",name:"add"})))),o("ion-toolbar",{color:"light",class:!this.loading?"viewMoreHidden":""},o("ion-title",null,"Loading... Please Wait")),o("ion-toolbar",{color:"light",class:this.loading?"viewMoreHidden":""},o("ion-input",{disabled:this.onlyShowCensored,class:"ion-padding",debounce:200,placeholder:"Type to Search",type:"text",onInput:function(e){return t.handleSearchEvent(e)}}))),o("ion-content",{class:"ion-padding "+(this.loading?"viewMoreHidden":"")},o("ion-list",null,o("ion-list-header",{color:"light"},o("p",null,"Showing ",this.hashtags.length," of ",this.onlyShowCensored?s.censoredHashtags.length:s.hashtagIndex.length," Hashtags")),this.hashtags.map((function(t){return o("ion-item",null,o("ion-label",null,t.censored?o("ion-chip",{color:"danger"},o("ion-label",null,"CENSORED!")):"",o("ion-router-link",{href:"weibo-viewer/"+t.hashtag+"/posts"},t.hashtag)),o("ion-badge",{slot:"end"},t.count))}))),o("ion-button",{class:this.hashtags.length>0&&!this.hideViewMore&&!this.onlyShowCensored?"":"viewMoreHidden",onClick:function(e){t.getNextPage();console.log(e);return false},expand:"block",fill:"outline"},"View More...")),o("ion-footer",{color:"light"},o("ion-toolbar",null,o("ion-toggle",{slot:"start",onIonChange:function(e){t.toggleCensoredFilter();e.preventDefault()}}),o("ion-title",null,"Censored Tags Only")))]};Object.defineProperty(t,"style",{get:function(){return":host{display:block}.hscroll{width:100%;overflow-y:auto}.min-500{min-width:900px!important;width:100%}.darkred{color:#c00!important}.viewMoreHidden{display:none}"},enumerable:true,configurable:true});return t}())}}}));