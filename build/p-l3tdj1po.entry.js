import{r as t,h as s}from"./p-b8715656.js";import"./p-7a9e9a82.js";import{W as o}from"./p-93768d28.js";const i=class{constructor(s){t(this,s),this.postIndex=[],this.loading=!1,this.postCount=0,this.offset=0,this._loadingController=null}componentDidLoad(){this.setLoading(!0),o.censoredPostIndex$.subscribe(t=>{this.postIndex=[...this.postIndex.concat(t)],console.log("displaying "+this.postIndex.length+" posts"),this.postIndex.length>0&&this.setLoading(!1)}),o.getCensoredPostIndex(this.offset,20)}getNextPage(){this.setLoading(!0),this.offset+=20,o.getCensoredPostIndex(this.offset,20)}viewMoreDisplayState(){return this.postIndex.length>0&&this.postIndex.length<o.censoredPostIndex.length?"":"viewMoreHidden"}async setLoading(t){this.loading=t}render(){return[s("ion-header",{translucent:!0},s("ion-toolbar",{color:"light"},s("ion-buttons",{slot:"start"},s("ion-back-button",{defaultHref:"/"})),s("ion-buttons",{slot:"end"},s("sharing-utensil",{linkToShare:"http://weibot.saladface.xyz/censored-posts",text:"Censored and shadow-banned posts from the %23WeiBlocked archive"})),s("ion-title",null,"Censored Posts")),s("ion-toolbar",{class:this.postIndex.length>0?"":"hidden"},s("ion-title",null,"Loaded ",this.postIndex.length," of ",o.censoredPostIndex.length," Posts")),s("ion-toolbar",{class:this.postIndex.length>0?"hidden":""},s("ion-title",null,"Loading... Please Wait"))),s("ion-content",{class:"ion-padding"},s("div",{class:"posts-container"},this.postIndex.map(t=>s("weibo-post",{censored:!0,downloadFromBlockchain:!1,displayMode:"thumbnail",txid:t.txid}))),s("ion-button",{disabled:this.loading,class:this.viewMoreDisplayState(),onClick:t=>(this.getNextPage(),console.log(t),!1),expand:"block",fill:"outline"},"View More..."))]}static get style(){return":host{display:block}.hscroll{width:100%;overflow-y:auto}.min-500{min-width:900px!important;width:100%}.chinese-text{font-size:10px}.darkred{color:#c00!important}.cta a{font-weight:700;font-size:11px;text-decoration:none}"}};export{i as weibo_censored_posts};