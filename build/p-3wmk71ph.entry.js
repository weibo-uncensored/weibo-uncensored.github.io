import{r as t,h as s,c as i,d as e,H as n,e as o,i as r,f as h,j as a,w as c}from"./p-b8715656.js";import{GESTURE_CONTROLLER as l}from"./p-316cddd3.js";import{n as u,c as d,i as p,a as m,d as f}from"./p-3e9c62cb.js";import{c as v,h as w}from"./p-f1a4df63.js";import{g as b,P as g}from"./p-e38e590d.js";import"./p-39c54535.js";import{m as y}from"./p-f0e75443.js";import{L as E,a as C,b as S}from"./p-fe44e552.js";import{l as _,t as T,s as k}from"./p-9d0da5ed.js";import{a as L}from"./p-8a939906.js";const P=class{constructor(s){t(this,s)}render(){return s("ion-app",null,s("ion-menu",{"content-id":"content",side:"start"},s("ion-header",null,s("ion-toolbar",null,s("ion-title",null,"WeiBlocked Archive"))),s("ion-content",null,s("ion-list",null))),s("ion-router",{useHash:!0},s("ion-route",{url:"/",component:"weibo-viewer"}),s("ion-route",{url:"/weibo-viewer",component:"weibo-viewer"}),s("ion-route",{url:"/weibo-viewer/:hashtag/posts",component:"weibo-posts"}),s("ion-route",{url:"/weibo-viewer/post/:txid",component:"single-post-viewer"})),s("ion-nav",{id:"content"}))}static get style(){return""}},O=class{constructor(s){t(this,s)}componentDidLoad(){R(()=>{const t=r(window,"hybrid");e.getBoolean("_testing")||__sc_import_app("./p-c9ec03e2.js").then(t=>t.startTapClick(e)),e.getBoolean("statusTap",t)&&__sc_import_app("./p-ea2a1586.js").then(t=>t.startStatusTap()),e.getBoolean("inputShims",j())&&__sc_import_app("./p-ddf56d94.js").then(t=>t.startInputShims(e)),e.getBoolean("hardwareBackButton",t)&&__sc_import_app("./p-105bab28.js").then(t=>t.startHardwareBackButton()),__sc_import_app("./p-b9bccfd6.js").then(t=>t.startFocusVisible())})}render(){const t=i(this);return s(n,{class:{[t]:!0,"ion-page":!0,"force-statusbar-padding":e.getBoolean("_forceStatusbarPadding")}})}get el(){return o(this)}static get style(){return"html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}"}},j=()=>r(window,"ios")&&r(window,"mobile"),R=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)},A=class{constructor(s){t(this,s),this.lastClick=-1e4,this.blocker=l.createBlocker({disableScroll:!0}),this.visible=!0,this.tappable=!0,this.stopPropagation=!0,this.ionBackdropTap=h(this,"ionBackdropTap",7)}connectedCallback(){this.stopPropagation&&this.blocker.block()}disconnectedCallback(){this.blocker.unblock()}onTouchStart(t){this.lastClick=u(t),this.emitTap(t)}onMouseDown(t){this.lastClick<u(t)-2500&&this.emitTap(t)}emitTap(t){this.stopPropagation&&(t.preventDefault(),t.stopPropagation()),this.tappable&&this.ionBackdropTap.emit()}render(){const t=i(this);return s(n,{tabindex:"-1",class:{[t]:!0,"backdrop-hide":!this.visible,"backdrop-no-tappable":!this.tappable}})}static get style(){return":host{left:0;right:0;top:0;bottom:0;display:block;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0);contain:strict;cursor:pointer;opacity:.01;-ms-touch-action:none;touch-action:none;z-index:2}:host(.backdrop-hide){background:transparent}:host(.backdrop-no-tappable){cursor:auto}:host{background-color:var(--ion-backdrop-color,#000)}"}},D=class{constructor(s){t(this,s),this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.mode=i(this),this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTimeStamp:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,timeStamp:0,data:void 0,isScrolling:!0},this.fullscreen=!1,this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1,this.ionScrollStart=h(this,"ionScrollStart",7),this.ionScroll=h(this,"ionScroll",7),this.ionScrollEnd=h(this,"ionScrollEnd",7)}disconnectedCallback(){this.onScrollEnd()}componentDidLoad(){this.resize()}onClick(t){this.isScrolling&&(t.preventDefault(),t.stopPropagation())}shouldForceOverscroll(){const{forceOverscroll:t,mode:s}=this;return void 0===t?"ios"===s&&r("ios"):t}resize(){this.fullscreen?a(this.readDimensions.bind(this)):0===this.cTop&&0===this.cBottom||(this.cTop=this.cBottom=0,this.el.forceUpdate())}readDimensions(){const t=$(this.el),s=Math.max(this.el.offsetTop,0),i=Math.max(t.offsetHeight-s-this.el.offsetHeight,0);(s!==this.cTop||i!==this.cBottom)&&(this.cTop=s,this.cBottom=i,this.el.forceUpdate())}onScroll(t){const s=Date.now(),i=!this.isScrolling;this.lastScroll=s,i&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,a(s=>{this.queued=!1,this.detail.event=t,M(this.detail,this.scrollEl,s,i),this.ionScroll.emit(this.detail)}))}getScrollElement(){return Promise.resolve(this.scrollEl)}scrollToTop(t=0){return this.scrollToPoint(void 0,0,t)}scrollToBottom(t=0){return this.scrollToPoint(void 0,this.scrollEl.scrollHeight-this.scrollEl.clientHeight,t)}scrollByPoint(t,s,i){return this.scrollToPoint(t+this.scrollEl.scrollLeft,s+this.scrollEl.scrollTop,i)}async scrollToPoint(t,s,i=0){const e=this.scrollEl;if(i<32)return null!=s&&(e.scrollTop=s),void(null!=t&&(e.scrollLeft=t));let n,o=0;const r=new Promise(t=>n=t),h=e.scrollTop,a=e.scrollLeft,c=null!=s?s-h:0,l=null!=t?t-a:0,u=t=>{const s=Math.min(1,(t-o)/i)-1,r=Math.pow(s,3)+1;0!==c&&(e.scrollTop=Math.floor(r*c+h)),0!==l&&(e.scrollLeft=Math.floor(r*l+a)),r<1?requestAnimationFrame(u):n()};return requestAnimationFrame(t=>{o=t,u(t)}),r}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{scrollX:t,scrollY:o}=this,r=i(this),h=this.shouldForceOverscroll(),a="ios"===r&&e.getBoolean("experimentalTransitionShadow",!0);return this.resize(),s(n,{class:Object.assign(Object.assign({},v(this.color)),{[r]:!0,"content-sizing":w("ion-popover",this.el),overscroll:h}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},s("main",{class:{"inner-scroll":!0,"scroll-x":t,"scroll-y":o,overscroll:(t||o)&&h},ref:t=>this.scrollEl=t,onScroll:t=>this.onScroll(t)},s("slot",null)),a?s("div",{class:"transition-effect"},s("div",{class:"transition-cover"}),s("div",{class:"transition-shadow"})):null,s("slot",{name:"fixed"}))}get el(){return o(this)}static get style(){return":host{--background:var(--ion-background-color,#fff);--color:var(--ion-text-color,#000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0!important;padding:0!important;font-family:var(--ion-font-family,inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.outer-content){--background:var(--ion-color-step-50,#f2f2f2)}.inner-scroll{left:0;right:0;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;background:var(--background);color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.inner-scroll{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.scroll-x,.scroll-y{-webkit-overflow-scrolling:touch;will-change:scroll-position;-ms-scroll-chaining:none;overscroll-behavior:contain}.scroll-y{-ms-touch-action:pan-y;touch-action:pan-y;overflow-y:var(--overflow)}.scroll-x{-ms-touch-action:pan-x;touch-action:pan-x;overflow-x:var(--overflow)}.scroll-x.scroll-y{-ms-touch-action:auto;touch-action:auto}.overscroll:after,.overscroll:before{position:absolute;width:1px;height:1px;content:\"\"}.overscroll:before{bottom:-1px}.overscroll:after{top:-1px}:host(.content-sizing){contain:none}:host(.content-sizing) .inner-scroll{position:relative}.transition-effect{left:-100%;opacity:0;pointer-events:none}.transition-cover,.transition-effect{position:absolute;width:100%;height:100%}.transition-cover{right:0;background:#000;opacity:.1}.transition-shadow{display:block;position:absolute;right:0;width:10px;height:100%;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAgCAYAAAAIXrg4AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTE3MDgzRkQ5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTE3MDgzRkU5QTkyMTFFOUEwNzQ5MkJFREE1NUY2MjQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTcwODNGQjlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMTcwODNGQzlBOTIxMUU5QTA3NDkyQkVEQTU1RjYyNCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PmePEuQAAABNSURBVHjaYvz//z8DIxAwMDAwATGMhmFmPDQuOSZks0AMmoJBaQHjkPfB0Lfg/2gQjVow+HPy/yHvg9GiYjQfjMbBqAWjFgy/4hogwADYqwdzxy5BuwAAAABJRU5ErkJggg==);background-repeat:repeat-y;background-size:10px 16px}"}},$=t=>{const s=t.closest("ion-tabs");return s||(t.closest("ion-app,ion-page,.ion-page,page-inner")||(t=>t.parentElement?t.parentElement:t.parentNode&&t.parentNode.host?t.parentNode.host:null)(t))},M=(t,s,i,e)=>{const n=t.currentX,o=t.currentY,r=s.scrollLeft,h=s.scrollTop,a=i-t.timeStamp;if(e&&(t.startTimeStamp=i,t.startX=r,t.startY=h,t.velocityX=t.velocityY=0),t.timeStamp=i,t.currentX=t.scrollLeft=r,t.currentY=t.scrollTop=h,t.deltaX=r-t.startX,t.deltaY=h-t.startY,a>0&&a<100){const s=(h-o)/a;t.velocityX=(r-n)/a*.7+.3*t.velocityX,t.velocityY=.7*s+.3*t.velocityY}},I=t=>{const s=document.querySelector(`${t}.ion-cloned-element`);if(null!==s)return s;const i=document.createElement(t);return i.classList.add("ion-cloned-element"),i.style.setProperty("display","none"),document.body.appendChild(i),i},B=t=>{if(!t)return;const s=t.querySelectorAll("ion-toolbar");return{el:t,toolbars:Array.from(s).map(t=>{const s=t.querySelector("ion-title");return{el:t,background:t.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:s,innerTitleEl:s?s.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(t.querySelectorAll("ion-buttons"))||[]}})||[[]]}},V=(t,s)=>{void 0===s?t.background.style.removeProperty("--opacity"):t.background.style.setProperty("--opacity",s.toString())},x=(t,s=!0)=>{c(()=>{s?t.el.classList.remove("header-collapse-condense-inactive"):t.el.classList.add("header-collapse-condense-inactive")})},H=class{constructor(s){t(this,s),this.collapsibleHeaderInitialized=!1,this.translucent=!1}async componentDidLoad(){await this.checkCollapsibleHeader()}async componentDidUpdate(){await this.checkCollapsibleHeader()}componentDidUnload(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){const t="condense"===this.collapse,s=!(!t||"ios"!==i(this))&&t;if(!s&&this.collapsibleHeaderInitialized)this.destroyCollapsibleHeader();else if(s&&!this.collapsibleHeaderInitialized){const t=this.el.closest("ion-app,ion-page,.ion-page,page-inner"),s=t?t.querySelector("ion-content"):null;await this.setupCollapsibleHeader(s,t)}}destroyCollapsibleHeader(){this.intersectionObserver&&(this.intersectionObserver.disconnect(),this.intersectionObserver=void 0),this.scrollEl&&this.contentScrollCallback&&(this.scrollEl.removeEventListener("scroll",this.contentScrollCallback),this.contentScrollCallback=void 0)}async setupCollapsibleHeader(t,s){t&&s?(this.scrollEl=await t.getScrollElement(),a(()=>{const t=s.querySelectorAll("ion-header"),i=Array.from(t).find(t=>"condense"!==t.collapse);if(!i||!this.scrollEl)return;const e=B(i),n=B(this.el);e&&n&&(x(e,!1),a(()=>{this.intersectionObserver=new IntersectionObserver(t=>{((t,s,i)=>{c(()=>{((t,s)=>{if(!t[0].isIntersecting)return;const i=100*(1-t[0].intersectionRatio)/75;V(s.toolbars[0],1===i?void 0:i)})(t,s);const e=t[0],n=e.intersectionRect,o=n.width*n.height,r=0===o&&0==e.rootBounds.width*e.rootBounds.height,h=Math.abs(n.left-e.boundingClientRect.left),a=Math.abs(n.right-e.boundingClientRect.right);r||o>0&&(h>=5||a>=5)||(e.isIntersecting?(x(s,!1),x(i)):(0===n.x&&0===n.y||0!==n.width&&0!==n.height)&&(x(s),x(i,!1),V(s.toolbars[0],1)))})})(t,e,n)},{threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1],rootMargin:`-${e.el.clientHeight}px 0px 0px 0px`}),this.intersectionObserver.observe(n.toolbars[0].el)}),this.contentScrollCallback=()=>{((t,s)=>{a(()=>{const i=d(1,1+-t.scrollTop/500,1.1);c(()=>{((t=[],s=1,i=!1)=>{t.forEach(t=>{const e=t.ionTitleEl,n=t.innerTitleEl;e&&"large"===e.size&&(n.style.transformOrigin="left center",n.style.transition=i?"all 0.2s ease-in-out":"",n.style.transform=`scale3d(${s}, ${s}, 1)`)})})(s.toolbars,i)})})})(this.scrollEl,n)},this.scrollEl.addEventListener("scroll",this.contentScrollCallback))}),c(()=>{I("ion-title"),I("ion-back-button")}),this.collapsibleHeaderInitialized=!0):console.error("ion-header requires a content to collapse, make sure there is an ion-content.")}render(){const t=i(this);return s(n,{role:"banner",class:{[t]:!0,[`header-${t}`]:!0,"header-translucent":this.translucent,[`header-collapse-${this.collapse||"none"}`]:!0,[`header-translucent-${t}`]:this.translucent}})}get el(){return o(this)}static get style(){return"ion-header{display:block;position:relative;-ms-flex-order:-1;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-child{padding-top:var(--ion-safe-area-top,0)}.header-ios ion-toolbar:last-child{--border-width:0 0 0.55px}.header-ios[no-border] ion-toolbar:last-child{--border-width:0}\@supports ((-webkit-backdrop-filter:blur(0)) or (backdrop-filter:blur(0))){.header-translucent-ios{-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8;--backdrop-filter:saturate(180%) blur(20px)}}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:-webkit-sticky;position:sticky;top:0}.header-collapse-condense ion-toolbar:first-child{padding-top:7px;z-index:1}.header-collapse-condense ion-toolbar{z-index:0}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0;padding-bottom:13px}ion-toolbar.in-toolbar ion-buttons,ion-toolbar.in-toolbar ion-title{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.header-collapse-condense ion-toolbar ion-buttons,.header-collapse-condense ion-toolbar ion-title{-webkit-transition:none;transition:none}.header-collapse-condense-inactive ion-toolbar.in-toolbar ion-buttons.buttons-collapse,.header-collapse-condense-inactive ion-toolbar.in-toolbar ion-title{opacity:0;pointer-events:none}"}},Y=class{constructor(s){t(this,s),this.inset=!1}async closeSlidingItems(){const t=this.el.querySelector("ion-item-sliding");return!(!t||!t.closeOpened)&&t.closeOpened()}render(){const t=i(this),{lines:e,inset:o}=this;return s(n,{class:{[t]:!0,[`list-${t}`]:!0,"list-inset":o,[`list-lines-${e}`]:void 0!==e,[`list-${t}-lines-${e}`]:void 0!==e}})}get el(){return o(this)}static get style(){return"ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{margin-left:0;margin-right:0;margin-top:-1px;margin-bottom:32px;background:var(--ion-item-background,var(--ion-background-color,#fff))}.list-ios.list-inset{margin-left:16px;margin-right:16px;margin-top:16px;margin-bottom:16px;border-radius:4px}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.list-ios.list-inset{margin-left:unset;margin-right:unset;-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px}}.list-ios.list-inset ion-item{--border-width:0 0 1px 0;--inner-border-width:0}.list-ios.list-inset ion-item:last-child{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item{--border-width:0;--inner-border-width:0}.list-ios-lines-full .item,.list-ios .item-lines-full{--border-width:0 0 0.55px 0}.list-ios-lines-full .item{--inner-border-width:0}.list-ios-lines-inset .item,.list-ios .item-lines-inset{--inner-border-width:0 0 0.55px 0}.list-ios .item-lines-inset{--border-width:0}.list-ios .item-lines-full{--inner-border-width:0}.list-ios .item-lines-none{--border-width:0;--inner-border-width:0}"}},X=class{constructor(s){t(this,s),this.lastOnEnd=0,this.blocker=l.createBlocker({disableScroll:!0}),this.mode=i(this),this.isAnimating=!1,this._isOpen=!1,this.isPaneVisible=!1,this.isEndSide=!1,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50,this.ionWillOpen=h(this,"ionWillOpen",7),this.ionWillClose=h(this,"ionWillClose",7),this.ionDidOpen=h(this,"ionDidOpen",7),this.ionDidClose=h(this,"ionDidClose",7),this.ionMenuChange=h(this,"ionMenuChange",7)}typeChanged(t,s){const i=this.contentEl;i&&(void 0!==s&&i.classList.remove(`menu-content-${s}`),i.classList.add(`menu-content-${t}`),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=p(this.side)}swipeGestureChanged(){this.updateState()}async connectedCallback(){void 0===this.type&&(this.type=e.get("menuType","ios"===this.mode?"reveal":"overlay"));const t=this.el.parentNode;void 0===this.contentId&&console.warn('[DEPRECATED][ion-menu] Using the [main] attribute is deprecated, please use the "contentId" property instead:\nBEFORE:\n  <ion-menu>...</ion-menu>\n  <div main>...</div>\n\nAFTER:\n  <ion-menu contentId="my-content"></ion-menu>\n  <div id="my-content">...</div>\n');const s=void 0!==this.contentId?document.getElementById(this.contentId):t&&t.querySelector&&t.querySelector("[main]");s&&s.tagName?(this.contentEl=s,s.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),y._register(this),this.gesture=(await __sc_import_app("./p-316cddd3.js")).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,canStart:t=>this.canStart(t),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.updateState()):console.error('Menu: must have a "content" element to listen for drag events on.')}async componentDidLoad(){this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen}),this.updateState()}disconnectedCallback(){this.blocker.destroy(),y._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=this.backdropEl=this.menuInnerEl=void 0}onSplitPaneChanged(t){this.isPaneVisible=t.detail.isPane(this.el),this.updateState()}onBackdropClick(t){this._isOpen&&this.lastOnEnd<t.timeStamp-100&&t.composedPath&&!t.composedPath().includes(this.menuInnerEl)&&(t.preventDefault(),t.stopPropagation(),this.close())}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(t=!0){return this.setOpen(!0,t)}close(t=!0){return this.setOpen(!1,t)}toggle(t=!0){return this.setOpen(!this._isOpen,t)}setOpen(t,s=!0){return y._setOpen(this,t,s)}async _setOpen(t,s=!0){return!(!this._isActive()||this.isAnimating||t===this._isOpen||(this.beforeAnimation(t),await this.loadAnimation(),await this.startAnimation(t,s),this.afterAnimation(t),0))}async loadAnimation(){const t=this.menuInnerEl.offsetWidth;t===this.width&&void 0!==this.animation||(this.width=t,this.animation&&(this.animation.destroy(),this.animation=void 0),this.animation=await y._createAnimation(this.type,this),e.getBoolean("animated",!0)||this.animation.duration(0),this.animation.fill("both"))}async startAnimation(t,s){const i=!t,e=this.animation.direction(i?"reverse":"normal").easing(i?"cubic-bezier(0.4, 0.0, 0.6, 1)":"cubic-bezier(0.0, 0.0, 0.2, 1)");s?await e.playAsync():e.playSync()}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(t){return!!this.canSwipe()&&(!!this._isOpen||!y._getOpenSync()&&W(window,t.currentX,this.isEndSide,this.maxEdgeStart))}onWillStart(){return this.beforeAnimation(!this._isOpen),this.loadAnimation()}onStart(){this.isAnimating&&this.animation?this.animation.direction(this._isOpen?"reverse":"normal").progressStart(!0):m(!1,"isAnimating has to be true")}onMove(t){if(!this.isAnimating||!this.animation)return void m(!1,"isAnimating has to be true");const s=U(t.deltaX,this._isOpen,this.isEndSide);this.animation.progressStep(s/this.width)}onEnd(t){if(!this.isAnimating||!this.animation)return void m(!1,"isAnimating has to be true");const s=this._isOpen,i=this.isEndSide,e=U(t.deltaX,s,i),n=this.width,o=e/n,r=t.velocityX,h=n/2,a=r>=0&&(r>.2||t.deltaX>h),c=r<=0&&(r<-.2||t.deltaX<-h),l=s?i?a:c:i?c:a;let u=!s&&l;s&&!l&&(u=!0),this.lastOnEnd=t.timeStamp;let p=l?.001:-.001;const f=o<=0?.01:o;p+=b(new g(0,0),new g(.4,0),new g(.6,1),new g(1,1),d(0,f,1)),this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(u),{oneTimeCallback:!0}).progressEnd(l?1:0,p,300)}beforeAnimation(t){m(!this.isAnimating,"_before() should not be called while animating"),this.el.classList.add(z),this.backdropEl&&this.backdropEl.classList.add(N),this.blocker.block(),this.isAnimating=!0,t?this.ionWillOpen.emit():this.ionWillClose.emit()}afterAnimation(t){m(this.isAnimating,"_before() should be called while animating"),this._isOpen=t,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),t?(this.contentEl&&this.contentEl.classList.add(G),this.ionDidOpen.emit()):(this.el.classList.remove(z),this.contentEl&&this.contentEl.classList.remove(G),this.backdropEl&&this.backdropEl.classList.remove(N),this.animation&&this.animation.stop(),this.ionDidClose.emit())}updateState(){const t=this._isActive();this.gesture&&this.gesture.setDisabled(!t||!this.swipeGesture),!t&&this._isOpen&&this.forceClosing(),this.disabled||y._setActiveMenu(this),m(!this.isAnimating,"can not be animating")}forceClosing(){m(this._isOpen,"menu cannot be closed"),this.isAnimating=!0,this.animation.direction("reverse").playSync(),this.afterAnimation(!1)}render(){const{isEndSide:t,type:i,disabled:e,mode:o,isPaneVisible:r}=this;return s(n,{role:"navigation",class:{[o]:!0,[`menu-type-${i}`]:!0,"menu-enabled":!e,"menu-side-end":t,"menu-side-start":!t,"menu-pane-visible":r}},s("div",{class:"menu-inner",ref:t=>this.menuInnerEl=t},s("slot",null)),s("ion-backdrop",{ref:t=>this.backdropEl=t,class:"menu-backdrop",tappable:!1,stopPropagation:!1}))}get el(){return o(this)}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}static get style(){return":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color,#fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{left:0;right:auto;top:0;bottom:0;-webkit-transform:translate3d(-9999px,0,0);transform:translate3d(-9999px,0,0);display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host-context([dir=rtl]) .menu-inner,[dir=rtl] .menu-inner{left:unset;right:unset;left:auto;right:0;-webkit-transform:translate3d(calc(-1 * -9999px),0,0);transform:translate3d(calc(-1 * -9999px),0,0)}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;right:auto;left:0}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;right:0;left:auto}ion-backdrop{display:none;opacity:.01;z-index:-1}\@media (max-width:340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{-webkit-transform:translateZ(0);transform:translateZ(0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;-webkit-transform:none!important;transform:none!important;-webkit-box-shadow:none!important;box-shadow:none!important}:host(.menu-pane-visible) ion-backdrop{display:hidden!important}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}"}},U=(t,s,i)=>Math.max(0,s!==i?-t:t),W=(t,s,i,e)=>i?s>=t.innerWidth-e:s<=e,z="show-menu",N="show-backdrop",G="menu-content-open";class q{constructor(t,s){this.component=t,this.params=s,this.state=1}async init(t){if(this.state=2,!this.element){const s=this.component;this.element=await L(this.delegate,t,s,["ion-page","ion-page-invisible"],this.params)}}_destroy(){m(3!==this.state,"view state must be ATTACHED");const t=this.element;t&&(this.delegate?this.delegate.removeViewFromDom(t.parentElement,t):t.remove()),this.nav=void 0,this.state=3}}const F=(t,s,i)=>{if(!t)return!1;if(t.component!==s)return!1;const e=t.params;if(e===i)return!0;if(!e&&!i)return!0;if(!e||!i)return!1;const n=Object.keys(e),o=Object.keys(i);if(n.length!==o.length)return!1;for(const r of n)if(e[r]!==i[r])return!1;return!0},J=(t,s)=>t?t instanceof q?t:new q(t,s):null,K=class{constructor(s){t(this,s),this.transInstr=[],this.animationEnabled=!0,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.animated=!0,this.ionNavWillLoad=h(this,"ionNavWillLoad",7),this.ionNavWillChange=h(this,"ionNavWillChange",3),this.ionNavDidChange=h(this,"ionNavDidChange",3)}swipeGestureChanged(){this.gesture&&this.gesture.setDisabled(!0!==this.swipeGesture)}rootChanged(){void 0!==this.root&&(this.useRouter||this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=!!document.querySelector("ion-router")&&!this.el.closest("[no-router]"),void 0===this.swipeGesture){const t=i(this);this.swipeGesture=e.getBoolean("swipeBackEnabled","ios"===t)}this.ionNavWillLoad.emit()}async componentDidLoad(){this.rootChanged(),this.gesture=(await __sc_import_app("./p-5c285b20.js")).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}componentDidUnload(){for(const t of this.views)_(t.element,E),t._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=this.views.length=0,this.destroyed=!0}push(t,s,i,e){return this.queueTrns({insertStart:-1,insertViews:[{page:t,params:s}],opts:i},e)}insert(t,s,i,e,n){return this.queueTrns({insertStart:t,insertViews:[{page:s,params:i}],opts:e},n)}insertPages(t,s,i,e){return this.queueTrns({insertStart:t,insertViews:s,opts:i},e)}pop(t,s){return this.queueTrns({removeStart:-1,removeCount:1,opts:t},s)}popTo(t,s,i){const e={removeStart:-1,removeCount:-1,opts:s};return"object"==typeof t&&t.component?(e.removeView=t,e.removeStart=1):"number"==typeof t&&(e.removeStart=t+1),this.queueTrns(e,i)}popToRoot(t,s){return this.queueTrns({removeStart:1,removeCount:-1,opts:t},s)}removeIndex(t,s=1,i,e){return this.queueTrns({removeStart:t,removeCount:s,opts:i},e)}setRoot(t,s,i,e){return this.setPages([{page:t,params:s}],i,e)}setPages(t,s,i){return null==s&&(s={}),!0!==s.animated&&(s.animated=!1),this.queueTrns({insertStart:0,insertViews:t,removeStart:0,removeCount:-1,opts:s},i)}setRouteId(t,s,i){const e=this.getActiveSync();if(F(e,t,s))return Promise.resolve({changed:!1,element:e.element});let n;const o=new Promise(t=>n=t);let r;const h={updateURL:!1,viewIsReady:t=>{let s;const i=new Promise(t=>s=t);return n({changed:!0,element:t,markVisible:async()=>{s(),await r}}),i}};if("root"===i)r=this.setRoot(t,s,h);else{const e=this.views.find(i=>F(i,t,s));e?r=this.popTo(e,Object.assign(Object.assign({},h),{direction:"back"})):"forward"===i?r=this.push(t,s,h):"back"===i&&(r=this.setRoot(t,s,Object.assign(Object.assign({},h),{direction:"back",animated:!0})))}return o}async getRouteId(){const t=this.getActiveSync();return t?{id:t.element.tagName,params:t.params,element:t.element}:void 0}getActive(){return Promise.resolve(this.getActiveSync())}getByIndex(t){return Promise.resolve(this.views[t])}canGoBack(t){return Promise.resolve(this.canGoBackSync(t))}getPrevious(t){return Promise.resolve(this.getPreviousSync(t))}getLength(){return this.views.length}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(t=this.getActiveSync()){return!(!t||!this.getPreviousSync(t))}getPreviousSync(t=this.getActiveSync()){if(!t)return;const s=this.views,i=s.indexOf(t);return i>0?s[i-1]:void 0}queueTrns(t,s){if(this.isTransitioning&&null!=t.opts&&t.opts.skipIfBusy)return Promise.resolve(!1);const i=new Promise((s,i)=>{t.resolve=s,t.reject=i});return t.done=s,t.insertViews&&0===t.insertViews.length&&(t.insertViews=void 0),this.transInstr.push(t),this.nextTrns(),i}success(t,s){if(this.destroyed)this.fireError("nav controller was destroyed",s);else if(s.done&&s.done(t.hasCompleted,t.requiresTransition,t.enteringView,t.leavingView,t.direction),s.resolve(t.hasCompleted),!1!==s.opts.updateURL&&this.useRouter){const s=document.querySelector("ion-router");s&&s.navChanged("back"===t.direction?"back":"forward")}}failed(t,s){this.destroyed?this.fireError("nav controller was destroyed",s):(this.transInstr.length=0,this.fireError(t,s))}fireError(t,s){s.done&&s.done(!1,!1,t),s.reject&&!this.destroyed?s.reject(t):s.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const t=this.transInstr.shift();return!!t&&(this.runTransition(t),!0)}async runTransition(t){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(t);const s=this.getActiveSync(),i=this.getEnteringView(t,s);if(!s&&!i)throw new Error("no views in the stack to be removed");i&&1===i.state&&await i.init(this.el),this.postViewInit(i,s,t);const e=(t.enteringRequiresTransition||t.leavingRequiresTransition)&&i!==s?await this.transition(i,s,t):{hasCompleted:!0,requiresTransition:!1};this.success(e,t),this.ionNavDidChange.emit()}catch(s){this.failed(s,t)}this.isTransitioning=!1,this.nextTrns()}prepareTI(t){const s=this.views.length;if(t.opts=t.opts||{},void 0===t.opts.delegate&&(t.opts.delegate=this.delegate),void 0!==t.removeView){m(void 0!==t.removeStart,"removeView needs removeStart"),m(void 0!==t.removeCount,"removeView needs removeCount");const s=this.views.indexOf(t.removeView);if(s<0)throw new Error("removeView was not found");t.removeStart+=s}void 0!==t.removeStart&&(t.removeStart<0&&(t.removeStart=s-1),t.removeCount<0&&(t.removeCount=s-t.removeStart),t.leavingRequiresTransition=t.removeCount>0&&t.removeStart+t.removeCount===s),t.insertViews&&((t.insertStart<0||t.insertStart>s)&&(t.insertStart=s),t.enteringRequiresTransition=t.insertStart===s);const i=t.insertViews;if(!i)return;m(i.length>0,"length can not be zero");const e=i.map(t=>t instanceof q?t:"page"in t?J(t.page,t.params):J(t,void 0)).filter(t=>null!==t);if(0===e.length)throw new Error("invalid views to insert");for(const n of e){n.delegate=t.opts.delegate;const s=n.nav;if(s&&s!==this)throw new Error("inserted view was already inserted");if(3===n.state)throw new Error("inserted view was already destroyed")}t.insertViews=e}getEnteringView(t,s){const i=t.insertViews;if(void 0!==i)return i[i.length-1];const e=t.removeStart;if(void 0!==e){const i=this.views,n=e+t.removeCount;for(let t=i.length-1;t>=0;t--){const o=i[t];if((t<e||t>=n)&&o!==s)return o}}}postViewInit(t,s,i){m(s||t,"Both leavingView and enteringView are null"),m(i.resolve,"resolve must be valid"),m(i.reject,"reject must be valid");const e=i.opts,n=i.insertViews,o=i.removeStart,r=i.removeCount;let h;if(void 0!==o&&void 0!==r){m(o>=0,"removeStart can not be negative"),m(r>=0,"removeCount can not be negative"),h=[];for(let i=0;i<r;i++){const e=this.views[i+o];e&&e!==t&&e!==s&&h.push(e)}e.direction=e.direction||"back"}const a=this.views.length+(void 0!==n?n.length:0)-(void 0!==r?r:0);if(m(a>=0,"final balance can not be negative"),0===a)throw console.warn("You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(n){let t=i.insertStart;for(const s of n)this.insertViewAt(s,t),t++;i.enteringRequiresTransition&&(e.direction=e.direction||"forward")}if(h&&h.length>0){for(const t of h)_(t.element,C),_(t.element,S),_(t.element,E);for(const t of h)this.destroyView(t)}}async transition(t,s,n){const o=n.opts,r=o.progressAnimation?t=>this.sbAni=t:void 0,h=i(this),a=t.element,c=s&&s.element,l=Object.assign({mode:h,showGoBack:this.canGoBackSync(t),baseEl:this.el,animationBuilder:this.animation||o.animationBuilder||e.get("navAnimation"),progressCallback:r,animated:this.animated&&e.getBoolean("animated",!0),enteringEl:a,leavingEl:c},o),{hasCompleted:u}=await T(l);return this.transitionFinish(u,t,s,o)}transitionFinish(t,s,i,e){const n=t?s:i;return n&&this.cleanup(n),{hasCompleted:t,requiresTransition:!0,enteringView:s,leavingView:i,direction:e.direction}}insertViewAt(t,s){const i=this.views,e=i.indexOf(t);e>-1?(m(t.nav===this,"view is not part of the nav"),i.splice(s,0,i.splice(e,1)[0])):(m(!t.nav,"nav is used"),t.nav=this,i.splice(s,0,t))}removeView(t){m(2===t.state||3===t.state,"view state should be loaded or destroyed");const s=this.views,i=s.indexOf(t);m(i>-1,"view must be part of the stack"),i>=0&&s.splice(i,1)}destroyView(t){t._destroy(),this.removeView(t)}cleanup(t){if(this.destroyed)return;const s=this.views,i=s.indexOf(t);for(let e=s.length-1;e>=0;e--){const t=s[e],n=t.element;e>i?(_(n,E),this.destroyView(t)):e<i&&k(n,!0)}}canStart(){return!!this.swipeGesture&&!this.isTransitioning&&0===this.transInstr.length&&this.animationEnabled&&this.canGoBackSync()}onStart(){this.queueTrns({removeStart:-1,removeCount:1,opts:{direction:"back",progressAnimation:!0}},void 0)}onMove(t){this.sbAni&&this.sbAni.progressStep(t)}onEnd(t,s,i){if(this.sbAni){this.animationEnabled=!1,this.sbAni.onFinish(()=>{this.animationEnabled=!0},{oneTimeCallback:!0});let e=t?-.001:.001;t?e+=b(new g(0,0),new g(.32,.72),new g(0,1),new g(1,1),s):(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),e+=b(new g(0,0),new g(1,0),new g(.68,.28),new g(1,1),s)),this.sbAni.progressEnd(t?1:0,e,i)}}render(){return s("slot",null)}get el(){return o(this)}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;overflow:hidden;z-index:0}"}},Q=class{constructor(s){t(this,s),this.url="",this.ionRouteDataChanged=h(this,"ionRouteDataChanged",7)}onUpdate(t){this.ionRouteDataChanged.emit(t)}onComponentProps(t,s){if(t===s)return;const i=t?Object.keys(t):[],e=s?Object.keys(s):[];if(i.length===e.length){for(const n of i)if(t[n]!==s[n])return void this.onUpdate(t)}else this.onUpdate(t)}connectedCallback(){this.ionRouteDataChanged.emit()}static get watchers(){return{url:["onUpdate"],component:["onUpdate"],componentProps:["onComponentProps"]}}},Z=t=>"/"+t.filter(t=>t.length>0).join("/"),tt=t=>{if(null==t)return[""];const s=t.split("/").map(t=>t.trim()).filter(t=>t.length>0);return 0===s.length?[""]:s},st=async(t,s,i,e,n=!1)=>{try{const o=et(t);if(e>=s.length||!o)return n;await o.componentOnReady();const r=s[e],h=await o.setRouteId(r.id,r.params,i);return h.changed&&(i="root",n=!0),n=await st(h.element,s,i,e+1,n),h.markVisible&&await h.markVisible(),n}catch(o){return console.error(o),!1}},it=":not([no-router]) ion-nav, :not([no-router]) ion-tabs, :not([no-router]) ion-router-outlet",et=t=>{if(!t)return;if(t.matches(it))return t;return t.querySelector(it)||void 0},nt=(t,s)=>s.find(s=>((t,s)=>{const{from:i,to:e}=s;if(void 0===e)return!1;if(i.length>t.length)return!1;for(let n=0;n<i.length;n++){const s=i[n];if("*"===s)return!0;if(s!==t[n])return!1}return i.length===t.length})(t,s)),ot=(t,s)=>{const i=Math.min(t.length,s.length);let e=0;for(;e<i&&t[e].toLowerCase()===s[e].id;e++);return e},rt=(t,s)=>{const i=new ct(t);let e,n=!1;for(let o=0;o<s.length;o++){const t=s[o].path;if(""===t[0])n=!0;else{for(const s of t){const t=i.next();if(":"===s[0]){if(""===t)return null;e=e||[],(e[o]||(e[o]={}))[s.slice(1)]=t}else if(t!==s)return null}n=!1}}return n&&n!==(""===i.next())?null:e?s.map((t,s)=>({id:t.id,path:t.path,params:ht(t.params,e[s])})):s},ht=(t,s)=>!t&&s?s:t&&!s?t:t&&s?Object.assign(Object.assign({},t),s):void 0,at=t=>{let s=1,i=1;for(const e of t)for(const t of e.path)":"===t[0]?s+=Math.pow(1,i):""!==t&&(s+=Math.pow(2,i)),i++;return s};class ct{constructor(t){this.path=t.slice()}next(){return this.path.length>0?this.path.shift():""}}const lt=t=>Array.from(t.children).filter(t=>"ION-ROUTE-REDIRECT"===t.tagName).map(t=>{const s=pt(t,"to");return{from:tt(pt(t,"from")),to:null==s?void 0:tt(s)}}),ut=t=>mt(dt(t)),dt=(t,s=t)=>Array.from(s.children).filter(t=>"ION-ROUTE"===t.tagName&&t.component).map(s=>{const i=pt(s,"component");if(null==i)throw new Error("component missing in ion-route");return{path:tt(pt(s,"url")),id:i.toLowerCase(),params:s.componentProps,children:dt(t,s)}}),pt=(t,s)=>s in t?t[s]:t.hasAttribute(s)?t.getAttribute(s):null,mt=t=>{const s=[];for(const i of t)ft([],s,i);return s},ft=(t,s,i)=>{const e=t.slice();if(e.push({id:i.id,path:i.path,params:i.params}),0!==i.children.length)for(const n of i.children)ft(e,s,n);else s.push(e)},vt=class{constructor(s){t(this,s),this.previousPath=null,this.busy=!1,this.state=0,this.lastState=0,this.root="/",this.useHash=!0,this.ionRouteWillChange=h(this,"ionRouteWillChange",7),this.ionRouteDidChange=h(this,"ionRouteDidChange",7)}async componentWillLoad(){await(et(document.body)?Promise.resolve():new Promise(t=>{window.addEventListener("ionNavWillLoad",t,{once:!0})})),await this.onRoutesChanged()}componentDidLoad(){window.addEventListener("ionRouteRedirectChanged",f(this.onRedirectChanged.bind(this),10)),window.addEventListener("ionRouteDataChanged",f(this.onRoutesChanged.bind(this),100))}onPopState(){const t=this.historyDirection(),s=this.getPath();return this.writeNavStateRoot(s,t)}onBackButton(t){t.detail.register(0,()=>this.back())}push(t,s="forward"){t.startsWith(".")&&(t=new URL(t,window.location.href).pathname);const i=tt(t);return this.setPath(i,s),this.writeNavStateRoot(i,s)}back(){return window.history.back(),Promise.resolve(this.waitPromise)}async printDebug(){this.getPath(),(t=>{console.group(`[ion-core] ROUTES[${t.length}]`);for(const s of t){const t=[];s.forEach(s=>t.push(...s.path));const i=s.map(t=>t.id);Z(t),i.join(", ")}console.groupEnd()})(ut(this.el)),(t=>{console.group(`[ion-core] REDIRECTS[${t.length}]`);for(const s of t)s.to&&(Z(s.from),Z(s.to));console.groupEnd()})(lt(this.el))}async navChanged(t){if(this.busy)return console.warn("[ion-router] router is busy, navChanged was cancelled"),!1;const{ids:s,outlet:i}=await(async()=>{const t=[];let s,i=window.document.body;for(;s=et(i),s;){const e=await s.getRouteId();if(!e)break;i=e.element,e.element=void 0,t.push(e)}return{ids:t,outlet:s}})(),e=((t,s)=>{let i=null,e=0;const n=t.map(t=>t.id);for(const o of s){const t=ot(n,o);t>e&&(i=o,e=t)}return i?i.map((s,i)=>({id:s.id,path:s.path,params:ht(s.params,t[i]&&t[i].params)})):null})(s,ut(this.el));if(!e)return console.warn("[ion-router] no matching URL for ",s.map(t=>t.id)),!1;const n=(t=>{const s=[];for(const i of t)for(const t of i.path)if(":"===t[0]){const e=i.params&&i.params[t.slice(1)];if(!e)return null;s.push(e)}else""!==t&&s.push(t);return s})(e);return n?(this.setPath(n,t),await this.safeWriteNavState(i,e,"root",n,null,s.length),!0):(console.warn("[ion-router] router could not match path because some required param is missing"),!1)}onRedirectChanged(){const t=this.getPath();t&&nt(t,lt(this.el))&&this.writeNavStateRoot(t,"root")}onRoutesChanged(){return this.writeNavStateRoot(this.getPath(),"root")}historyDirection(){const t=window;null===t.history.state&&(this.state++,t.history.replaceState(this.state,t.document.title,t.document.location&&t.document.location.href));const s=t.history.state,i=this.lastState;return this.lastState=s,s>i?"forward":s<i?"back":"root"}async writeNavStateRoot(t,s){if(!t)return console.error("[ion-router] URL is not part of the routing set"),!1;const i=lt(this.el),e=nt(t,i);let n=null;e&&(this.setPath(e.to,s),n=e.from,t=e.to);const o=((t,s)=>{let i=null,e=0;for(const n of s){const s=rt(t,n);if(null!==s){const t=at(s);t>e&&(e=t,i=s)}}return i})(t,ut(this.el));return o?this.safeWriteNavState(document.body,o,s,t,n):(console.error("[ion-router] the path does not match any route"),!1)}async safeWriteNavState(t,s,i,e,n,o=0){const r=await this.lock();let h=!1;try{h=await this.writeNavState(t,s,i,e,n,o)}catch(a){console.error(a)}return r(),h}async lock(){const t=this.waitPromise;let s;return this.waitPromise=new Promise(t=>s=t),void 0!==t&&await t,s}async writeNavState(t,s,i,e,n,o=0){if(this.busy)return console.warn("[ion-router] router is busy, transition was cancelled"),!1;this.busy=!0;const r=this.routeChangeEvent(e,n);r&&this.ionRouteWillChange.emit(r);const h=await st(t,s,i,o);return this.busy=!1,r&&this.ionRouteDidChange.emit(r),h}setPath(t,s){this.state++,((t,s,i,e,n,o)=>{let r=Z([...tt(this.root),...e]);i&&(r="#"+r),"forward"===n?t.pushState(o,"",r):t.replaceState(o,"",r)})(window.history,0,this.useHash,t,s,this.state)}getPath(){return((t,s)=>{let i=t.pathname;if(this.useHash){const s=t.hash;i="#"===s[0]?s.slice(1):""}return((t,s)=>{if(t.length>s.length)return null;if(t.length<=1&&""===t[0])return s;for(let i=0;i<t.length;i++)if(t[i].length>0&&t[i]!==s[i])return null;return s.length===t.length?[""]:s.slice(t.length)})(tt(s),tt(i))})(window.location,this.root)}routeChangeEvent(t,s){const i=this.previousPath,e=Z(t);return this.previousPath=e,e===i?null:{from:i,redirectedFrom:s?Z(s):null,to:e}}get el(){return o(this)}},wt=class{constructor(s){t(this,s),this.ionStyle=h(this,"ionStyle",7)}sizeChanged(){this.emitStyle()}connectedCallback(){this.emitStyle()}emitStyle(){const t=this.getSize();this.ionStyle.emit({[`title-${t}`]:!0})}getSize(){return void 0!==this.size?this.size:"default"}getMode(){const t=i(this),s=this.el.closest("ion-toolbar");return s&&s.mode||t}render(){const t=this.getMode(),i=this.getSize();return s(n,{class:Object.assign({[t]:!0,[`title-${t}`]:!0,[`title-${i}`]:!0},v(this.color))},s("div",{class:"toolbar-title"},s("slot",null)))}get el(){return o(this)}static get watchers(){return{size:["sizeChanged"]}}static get style(){return":host{--color:initial;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-webkit-transform:translateZ(0);transform:translateZ(0);color:var(--color)}:host(.title-ios.title-default),:host(.title-ios.title-large){left:0;top:0;padding-left:90px;padding-right:90px;padding-top:0;padding-bottom:0;position:absolute;width:100%;height:100%;-webkit-transform:translateZ(0);transform:translateZ(0);font-size:17px;font-weight:600;text-align:center;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none}:host-context([dir=rtl]).title-ios.title-default,:host-context([dir=rtl]).title-ios.title-large,:host-context([dir=rtl]):host(.title-ios.title-default),:host-context([dir=rtl]):host(.title-ios.title-large){left:unset;right:unset;right:0}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){:host(.title-ios.title-default),:host(.title-ios.title-large){padding-left:unset;padding-right:unset;-webkit-padding-start:90px;padding-inline-start:90px;-webkit-padding-end:90px;padding-inline-end:90px}}:host(.title-md){padding-left:20px;padding-right:20px;padding-top:0;padding-bottom:0;font-size:20px;font-weight:500;letter-spacing:.0125em}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){:host(.title-md){padding-left:unset;padding-right:unset;-webkit-padding-start:20px;padding-inline-start:20px;-webkit-padding-end:20px;padding-inline-end:20px}}:host(.ion-color){color:var(--ion-color-base)}.toolbar-title{display:block;width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;pointer-events:auto}:host(.title-small) .toolbar-title{white-space:normal}:host(.title-ios.title-small){padding-left:9px;padding-right:9px;padding-top:6px;padding-bottom:16px;width:100%;height:100%;font-size:13px;text-align:center}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){:host(.title-ios.title-small){padding-left:unset;padding-right:unset;-webkit-padding-start:9px;padding-inline-start:9px;-webkit-padding-end:9px;padding-inline-end:9px}}:host(.title-md.title-small){width:100%;height:100%;font-size:15px;font-weight:400}:host(.title-ios.title-large){padding-left:16px;padding-right:16px;padding-top:0;padding-bottom:0;bottom:0;-ms-flex-align:end;align-items:flex-end;min-width:100%;padding-bottom:6px;font-size:34px;font-weight:700;text-align:start}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){:host(.title-ios.title-large){padding-left:unset;padding-right:unset;-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px}}"}},bt=class{constructor(s){t(this,s),this.childrenStyles=new Map}componentWillLoad(){const t=Array.from(this.el.querySelectorAll("ion-buttons")),s=t.find(t=>"start"===t.slot);s&&s.classList.add("buttons-first-slot");const i=t.reverse(),e=i.find(t=>"end"===t.slot)||i.find(t=>"primary"===t.slot)||i.find(t=>"secondary"===t.slot);e&&e.classList.add("buttons-last-slot")}childrenStyle(t){t.stopPropagation();const s=t.target.tagName,i=t.detail,e={},n=this.childrenStyles.get(s)||{};let o=!1;Object.keys(i).forEach(t=>{const s=`toolbar-${t}`,r=i[t];r!==n[s]&&(o=!0),r&&(e[s]=!0)}),o&&(this.childrenStyles.set(s,e),this.el.forceUpdate())}render(){const t=i(this),e={};return this.childrenStyles.forEach(t=>{Object.assign(e,t)}),s(n,{class:Object.assign(Object.assign({"in-toolbar":w("ion-toolbar",this.el),[t]:!0},e),v(this.color))},s("div",{class:"toolbar-background"}),s("div",{class:"toolbar-container"},s("slot",{name:"start"}),s("slot",{name:"secondary"}),s("div",{class:"toolbar-content"},s("slot",null)),s("slot",{name:"primary"}),s("slot",{name:"end"})))}get el(){return o(this)}static get style(){return":host{--border-width:0;--border-style:solid;--opacity:1;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;padding-left:var(--ion-safe-area-left);padding-right:var(--ion-safe-area-right);display:block;position:relative;width:100%;color:var(--color);font-family:var(--ion-font-family,inherit);contain:content;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){:host{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--ion-safe-area-left);padding-inline-start:var(--ion-safe-area-left);-webkit-padding-end:var(--ion-safe-area-right);padding-inline-end:var(--ion-safe-area-right)}}:host(.ion-color){color:var(--ion-color-contrast)}:host(.ion-color) .toolbar-background{background:var(--ion-color-base)}.toolbar-container{padding-left:var(--padding-start);padding-right:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;width:100%;min-height:var(--min-height);contain:content;overflow:hidden;z-index:10;-webkit-box-sizing:border-box;box-sizing:border-box}\@supports ((-webkit-margin-start:0) or (margin-inline-start:0)) or (-webkit-margin-start:0){.toolbar-container{padding-left:unset;padding-right:unset;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end)}}.toolbar-background{top:0;-webkit-transform:translateZ(0);transform:translateZ(0);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);background:var(--background);contain:strict;opacity:var(--opacity);z-index:-1;pointer-events:none}.toolbar-background,::slotted(ion-progress-bar){left:0;right:0;bottom:0;position:absolute}:host{--background:var(--ion-toolbar-background,var(--ion-color-step-50,#fff));--color:var(--ion-toolbar-color,var(--ion-text-color,#000));--border-color:var(--ion-toolbar-border-color,var(--ion-border-color,var(--ion-color-step-150,rgba(0,0,0,0.2))));--padding-top:3px;--padding-bottom:3px;--padding-start:4px;--padding-end:4px;--min-height:44px}.toolbar-content{-ms-flex:1;flex:1;-ms-flex-order:4;order:4;min-width:0}:host(.toolbar-segment){--min-height:auto}:host(.toolbar-searchbar) .toolbar-container{padding-top:0;padding-bottom:0}:host(.toolbar-searchbar) ::slotted(*){-ms-flex-item-align:start;align-self:start}:host(.toolbar-searchbar) ::slotted(ion-chip){margin-top:3px}:host(.toolbar-searchbar) ::slotted(ion-back-button){height:38px}::slotted(ion-buttons){min-height:38px}::slotted([slot=start]){-ms-flex-order:2;order:2}::slotted([slot=secondary]){-ms-flex-order:3;order:3}::slotted([slot=primary]){-ms-flex-order:5;order:5;text-align:end}::slotted([slot=end]){-ms-flex-order:6;order:6;text-align:end}:host(.toolbar-title-large) .toolbar-container{-ms-flex-wrap:wrap;flex-wrap:wrap;-ms-flex-align:start;align-items:flex-start}:host(.toolbar-title-large) .toolbar-content ion-title{-ms-flex:1;flex:1;-ms-flex-order:8;order:8;min-width:100%}"}};export{P as app_root,O as ion_app,A as ion_backdrop,D as ion_content,H as ion_header,Y as ion_list,X as ion_menu,K as ion_nav,Q as ion_route,vt as ion_router,wt as ion_title,bt as ion_toolbar};