var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;for(var n=Array(e),s=0,t=0;t<o;t++)for(var i=arguments[t],r=0,a=i.length;r<a;r++,s++)n[s]=i[r];return n};System.register(["./p-1fa942a3.system.js","./p-84afbabd.system.js"],(function(e){"use strict";var t,o,n;return{setters:[function(e){t=e.r;o=e.h},function(e){n=e.W}],execute:function(){var s=50;var i=e("weibo_viewer",function(){function e(e){t(this,e);this.offset=0;this.posts=[];this.hashtags=[];this.onlyShowCensored=false;this.hideViewMore=false;this.loading=false;this.currentSearchTxid=""}e.prototype.componentDidLoad=function(){var e=this;this.loading=true;n.hashtagIndex$.subscribe((function(t){if(t.length>0)e.loading=false;e.hashtags=__spreadArrays(e.hashtags.concat(t));console.log(JSON.stringify(t,null,2))}));n.getHashtagIndex(this.offset,s)};e.prototype.toggleCensoredFilter=function(){if(this.onlyShowCensored){this.onlyShowCensored=false;this.hashtags.length=0;this.offset=0;n.getHashtagIndex(this.offset,s)}else{this.onlyShowCensored=true;var e=n.censoredHashtags;this.hashtags=__spreadArrays(e)}};e.prototype.getNextPage=function(){this.offset+=s;n.getHashtagIndex(this.offset,s)};e.prototype.handleSearchEvent=function(e){console.log(JSON.stringify(e));var t=e.target.value.toLowerCase();if(t==""){this.offset=0;this.hideViewMore=false;this.hashtags=__spreadArrays(n.hashtagIndex.slice(this.offset,s));return}if(!t.startsWith("#"))t="#"+t;var o=n.hashtagIndex.filter((function(e){return e.hashtag.startsWith(t)})).slice(0,s);this.hideViewMore=true;this.hashtags=__spreadArrays(o)};e.prototype.showViewMore=function(){return this.hashtags.length>0&&!this.hideViewMore&&!this.onlyShowCensored?"":"viewMoreHidden"};e.prototype.render=function(){var e=this;return[o("ion-header",null,o("ion-toolbar",{color:"medium"},o("ion-title",null,"WeiBlocked Hashtags")),o("ion-toolbar",{color:"light",class:!this.loading?"viewMoreHidden":""},o("ion-title",null,"Loading... Please Wait")),o("ion-toolbar",{color:"light",class:this.loading?"viewMoreHidden":""},o("ion-input",{disabled:this.onlyShowCensored,class:"ion-padding",debounce:200,placeholder:"Type to Search",type:"text",onInput:function(t){return e.handleSearchEvent(t)}}))),o("ion-content",{class:"ion-padding "+(this.loading?"viewMoreHidden":"")},o("ion-list",null,o("ion-list-header",{color:"light"},o("p",null,"Showing ",this.hashtags.length," of ",this.onlyShowCensored?n.censoredHashtags.length:n.hashtagIndex.length," Hashtags")),this.hashtags.map((function(e){return o("ion-item",null,o("ion-label",null,e.censored?o("ion-chip",{color:"danger"},o("ion-label",null,"CENSORED!")):"",o("ion-router-link",{href:"weibo-viewer/"+e.hashtag+"/posts"},e.hashtag)),o("ion-badge",{slot:"end"},e.count))}))),o("ion-button",{class:this.hashtags.length>0&&!this.hideViewMore&&!this.onlyShowCensored?"":"viewMoreHidden",onClick:function(t){e.getNextPage();console.log(t);return false},expand:"block",fill:"outline"},"View More...")),o("ion-footer",{color:"light"},o("ion-toolbar",null,o("ion-toggle",{slot:"start",onIonChange:function(t){e.toggleCensoredFilter();t.preventDefault()}}),o("ion-title",null,"Censored Tags Only")))]};Object.defineProperty(e,"style",{get:function(){return":host{display:block}.hscroll{width:100%;overflow-y:auto}.min-500{min-width:900px!important;width:100%}.darkred{color:#c00!important}.viewMoreHidden{display:none}"},enumerable:true,configurable:true});return e}())}}}));