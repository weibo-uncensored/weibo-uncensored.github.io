var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<o;e++)for(var i=arguments[e],r=0,a=i.length;r<a;r++,s++)n[s]=i[r];return n};System.register(["./p-1fa942a3.system.js","./p-3f376874.system.js","./p-64d1a452.system.js","./p-a2a72620.system.js","./p-cf625300.system.js","./p-4e1706df.system.js","./p-7867f337.system.js","./p-a51f0ae4.system.js"],(function(t){"use strict";var e,o,n;return{setters:[function(t){e=t.r;o=t.h},function(){},function(){},function(){},function(){},function(){},function(t){n=t.W},function(){}],execute:function(){var s=50;var i=t("weibo_viewer",function(){function t(t){e(this,t);this.offset=0;this.posts=[];this.hashtags=[];this.onlyShowCensored=false;this.hideViewMore=false;this.loading=false;this.currentSearchTxid=""}t.prototype.about=function(){n.showAbout()};t.prototype.componentDidLoad=function(){var t=this;this.loading=true;n.hashtagIndex$.subscribe((function(e){if(e.length>0)t.loading=false;t.hashtags=__spreadArrays(t.hashtags.concat(e));console.log(JSON.stringify(e,null,2))}));n.getHashtagIndex(this.offset,s)};t.prototype.toggleCensoredFilter=function(){if(this.onlyShowCensored){this.onlyShowCensored=false;this.hashtags.length=0;this.offset=0;n.getHashtagIndex(this.offset,s)}else{this.onlyShowCensored=true;var t=n.censoredHashtags;this.hashtags=__spreadArrays(t)}};t.prototype.getNextPage=function(){this.offset+=s;n.getHashtagIndex(this.offset,s)};t.prototype.handleSearchEvent=function(t){console.log(JSON.stringify(t));var e=t.target.value.toLowerCase();if(e==""){this.offset=0;this.hideViewMore=false;this.hashtags=__spreadArrays(n.hashtagIndex.slice(this.offset,s));return}if(!e.startsWith("#"))e="#"+e;var o=n.hashtagIndex.filter((function(t){return t.hashtag.startsWith(e)})).slice(0,s);this.hideViewMore=true;this.hashtags=__spreadArrays(o)};t.prototype.showViewMore=function(){return this.hashtags.length>0&&!this.hideViewMore&&!this.onlyShowCensored?"":"viewMoreHidden"};t.prototype.render=function(){var t=this;return[o("ion-header",null,o("ion-toolbar",{color:"medium"},o("ion-title",null,"WeiBlocked Hashtags"),o("ion-buttons",{slot:"end"},o("ion-button",{onClick:function(e){t.about();e.preventDefault()}},o("ion-icon",{slot:"icon-only",name:"information-circle"})))),o("ion-toolbar",{color:"light",class:!this.loading?"viewMoreHidden":""},o("ion-title",null,"Loading... Please Wait")),o("ion-toolbar",{color:"light",class:this.loading?"viewMoreHidden":""},o("ion-input",{disabled:this.onlyShowCensored,class:"ion-padding",debounce:200,placeholder:"Type to Search",type:"text",onInput:function(e){return t.handleSearchEvent(e)}}))),o("ion-content",{class:"ion-padding "+(this.loading?"viewMoreHidden":"")},o("ion-list",null,o("ion-list-header",{color:"light"},o("p",null,"Showing ",this.hashtags.length," of ",this.onlyShowCensored?n.censoredHashtags.length:n.hashtagIndex.length," Hashtags")),this.hashtags.map((function(t){return o("ion-item",null,o("ion-label",null,t.censored?o("ion-chip",{color:"danger"},o("ion-label",null,"CENSORED!")):"",o("ion-router-link",{href:"weibo-viewer/"+t.hashtag+"/posts"},t.hashtag)),o("ion-badge",{slot:"end"},t.count))}))),o("ion-button",{class:this.hashtags.length>0&&!this.hideViewMore&&!this.onlyShowCensored?"":"viewMoreHidden",onClick:function(e){t.getNextPage();console.log(e);return false},expand:"block",fill:"outline"},"View More...")),o("ion-footer",{color:"light"},o("ion-toolbar",null,o("ion-toggle",{slot:"start",onIonChange:function(e){t.toggleCensoredFilter();e.preventDefault()}}),o("ion-title",null,"Censored Tags Only")))]};Object.defineProperty(t,"style",{get:function(){return":host{display:block}.hscroll{width:100%;overflow-y:auto}.min-500{min-width:900px!important;width:100%}.darkred{color:#c00!important}.viewMoreHidden{display:none}"},enumerable:true,configurable:true});return t}())}}}));