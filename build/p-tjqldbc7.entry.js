import{r as i,h as o}from"./p-b8715656.js";import{W as t}from"./p-73db3395.js";const e=class{constructor(o){i(this,o),this.offset=0,this.posts=[],this.hashtags=[],this.onlyShowCensored=!1,this.currentSearchTxid=""}componentDidLoad(){t.hashtagIndex$.subscribe(i=>{this.hashtags=[...this.hashtags.concat(i)],console.log(JSON.stringify(i,null,2))}),t.getHashtagIndex(this.offset,200)}toggleCensoredFilter(){this.onlyShowCensored?(this.onlyShowCensored=!1,this.hashtags.length=0,this.offset=0,t.getHashtagIndex(this.offset,200)):(this.onlyShowCensored=!0,this.hashtags=[...t.censoredHashtags])}getNextPage(){this.offset+=200,t.getHashtagIndex(this.offset,200)}render(){return[o("ion-header",null,o("ion-toolbar",{color:"primary"},o("ion-title",null,"Archived Hashtags"))),o("ion-content",{class:"ion-padding"},o("ion-item",null,o("ion-toggle",{slot:"end",onIonChange:i=>{this.toggleCensoredFilter(),i.preventDefault()}}),o("ion-label",null,"Only Show Censored")),o("ion-searchbar",null),o("ion-list",null,this.hashtags.map(i=>o("ion-item",null,o("ion-label",null,i.censored?o("ion-chip",{color:"danger"},o("ion-label",null,"CENSORED!")):"",o("ion-router-link",{href:`weibo-viewer/${i.hashtag}/posts`},i.hashtag)),o("ion-badge",{slot:"end"},i.count)))),o("ion-button",{class:this.hashtags.length>0&&!this.onlyShowCensored?"":"viewMoreHidden",onClick:i=>(this.getNextPage(),console.log(i),!1),expand:"block",fill:"outline"},"View More..."))]}static get style(){return":host{display:block}.hscroll{width:100%;overflow-y:auto}.min-500{min-width:900px!important;width:100%}.darkred{color:#c00!important}.viewMoreHidden{display:none}"}};export{e as weibo_viewer};